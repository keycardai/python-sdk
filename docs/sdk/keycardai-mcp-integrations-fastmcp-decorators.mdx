---
title: decorators
sidebarTitle: decorators
---

# `keycardai.mcp.integrations.fastmcp.decorators`


KeyCard MCP decorators for automated token exchange.

This module provides decorators that automate OAuth token exchange for accessing
external resources on behalf of authenticated users.


## Functions

### `get_access_token_for_resource`

```python
get_access_token_for_resource(resource: str)
```


Decorator for automatic delegated token exchange.

This decorator automates the OAuth token exchange process for accessing
external resources on behalf of authenticated users. It:

1. Extracts the user's bearer token from the FastMCP context
2. Performs RFC 8693 token exchange for the specified resource
3. Injects the resource-specific access token into the function context
4. Handles all error cases gracefully

**Args:**
- `resource`: Target resource URL for token exchange
     (e.g., "https\://www.googleapis.com/calendar/v3")

The decorated function receives:
- ctx.access_token: Resource-specific access token
- All original function parameters unchanged

Error handling:
- Returns structured error response if token exchange fails
- Preserves original function signature and behavior
- Provides detailed error messages for debugging


## Classes

### `KeyCardDecorators`


KeyCard decorators namespace.

